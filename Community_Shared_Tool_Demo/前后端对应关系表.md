# 社区共享工具系统 - 前后端对应关系表

## 一、前端目录结构
```
src/
├── App.vue                    # 应用根组件
├── assets/                    # 静态资源文件
│   ├── base.css              # 基础样式
│   ├── logo.svg              # 应用logo
│   └── main.css              # 主样式文件
├── components/               # 组件目录
│   ├── Device/               # 设备相关组件
│   └── icons/                # 图标组件
├── main.ts                   # 应用入口文件
├── router/                   # 路由配置
│   └── index.ts             # 路由定义
├── stores/                   # 状态管理
│   ├── counter.ts           # 计数器示例
│   └── userStore.ts         # 用户状态管理
└── views/                    # 页面组件
    ├── Admin.vue            # 管理员页面
    ├── BorrowApplications.vue # 借用申请页面
    ├── CommunityChat.vue    # 社区聊天页面
    ├── Credit.vue           # 信用页面
    ├── FlowDesigner.vue     # 流程设计器
    ├── Login.vue            # 登录页面
    ├── MainLayout.vue       # 主布局组件
    ├── MessageCenter.vue    # 消息中心页面
    ├── MyBorrow.vue         # 我的借用页面
    ├── MyPublished.vue      # 我的发布页面
    ├── Profile.vue          # 个人资料页面
    ├── Register.vue         # 注册页面
    ├── TasksManagement.vue  # 任务管理页面
    ├── ToolDetail.vue       # 工具详情页面
    └── ToolMap.vue          # 工具地图页面
```

## 二、后端目录结构
```
src/main/java/com/example/Community_Shared_Tool_java/
├── CommunitySharedToolApplication.java # 应用启动类
├── config/                  # 配置类
├── controller/              # 控制器
│   ├── AdminController.java          # 管理员控制器
│   ├── BorrowController.java         # 借用控制器
│   ├── BorrowInfoController.java     # 借用信息控制器
│   ├── ChatController.java           # 聊天控制器
│   ├── CreditController.java         # 信用控制器
│   ├── ImageUploadController.java    # 图片上传控制器
│   ├── MessageController.java        # 消息控制器
│   ├── PublishedToolController.java  # 发布工具控制器
│   ├── TemplateController.java       # 模板控制器
│   ├── ToolClassController.java      # 工具分类控制器
│   ├── ToolController.java           # 工具控制器
│   └── UserInfoController.java       # 用户信息控制器
├── dto/                     # 数据传输对象
├── entity/                  # 实体类
├── repository/              # 数据访问层
└── service/                 # 服务层
```

## 三、前端页面与后端文件对应关系

| 前端页面 | 对应后端控制器 | API接口 | 主要功能 |
|---------|--------------|--------|--------|
| **Login.vue** | UserInfoController.java | `/api/user/login` | 用户登录认证 |
| **Register.vue** | UserInfoController.java | `/api/user/register` | 用户注册 |
| **ToolMap.vue** | PublishedToolController.java | `/api/published-tools/search` | 显示工具位置地图，搜索工具 |
| **ToolDetail.vue** | PublishedToolController.java | `/api/published-tools/{id}` | 显示工具详细信息 |
| **MyBorrow.vue** | BorrowController.java<br>BorrowInfoController.java | `/api/borrow/**` | 显示用户借用的工具列表 |
| **MyPublished.vue** | PublishedToolController.java | `/api/published-tools/**` | 显示用户发布的工具列表，管理发布的工具 |
| **BorrowApplications.vue** | BorrowController.java | `/api/borrow/confirm-return/{id}`<br>`/api/borrow/reject-return/{id}` | 处理工具借用申请，确认归还 |
| **MessageCenter.vue** | MessageController.java | `/api/message/**` | 显示用户消息通知 |
| **CommunityChat.vue** | ChatController.java | `/api/chat/**` | 社区聊天功能 |
| **Profile.vue** | UserInfoController.java | `/api/user/**` | 管理用户个人资料 |
| **Credit.vue** | CreditController.java | `/api/credit/**` | 显示用户信用信息 |
| **Admin.vue** | AdminController.java | `/api/admin/**` | 管理员功能，用户管理 |
| **FlowDesigner.vue** | - | - | 流程设计器（未明确对应后端） |
| **TasksManagement.vue** | - | - | 任务管理（未明确对应后端） |
| **MainLayout.vue** | - | - | 页面布局组件（无直接后端对应） |

## 四、核心功能模块说明

1. **用户认证模块**
   - 前端：Login.vue、Register.vue
   - 后端：UserInfoController.java
   - 功能：用户注册、登录、认证

2. **工具管理模块**
   - 前端：ToolMap.vue、ToolDetail.vue、MyPublished.vue
   - 后端：PublishedToolController.java、ToolController.java
   - 功能：工具发布、搜索、详情查看、管理

3. **借用管理模块**
   - 前端：MyBorrow.vue、BorrowApplications.vue
   - 后端：BorrowController.java、BorrowInfoController.java
   - 功能：工具借用申请、审批、归还确认

4. **消息通知模块**
   - 前端：MessageCenter.vue
   - 后端：MessageController.java
   - 功能：系统消息、通知管理

5. **社区交流模块**
   - 前端：CommunityChat.vue
   - 后端：ChatController.java
   - 功能：用户社区聊天

6. **信用管理模块**
   - 前端：Credit.vue
   - 后端：CreditController.java
   - 功能：用户信用评分管理

7. **管理员模块**
   - 前端：Admin.vue
   - 后端：AdminController.java
   - 功能：用户管理、系统管理

## 五、API通信配置

前端API基础配置在 `src/main.ts` 中：
```typescript
axios.defaults.baseURL = 'http://localhost:8084';
axios.defaults.headers.common['Content-Type'] = 'application/json';

// 添加请求拦截器，自动携带token
axios.interceptors.request.use(
  config => {
    const token = localStorage.getItem('userToken');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  error => {
    return Promise.reject(error);
  }
);
```